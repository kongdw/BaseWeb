<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="k0n9.module.sys.dao.ResourceMapper">

    <cache/>

    <sql id="resourceColumns">
        ID,NAME,IDENTITY,URL,PARENT_ID,PARENT_IDS,
        ICON,WEIGHT,IS_SHOW
    </sql>

    <sql id="resourceJoin">

    </sql>

    <select id="fetch" resultType="Resource">
        select
        <include refid="resourceColumns"/>
        from SYS_RESOURCE r
        where id = #{id}
    </select>

    <select id="findList" resultType="Resource">
        select
        <include refid="resourceColumns"/>
        from SYS_RESOURCE r
        order by WEIGHT ASC
    </select>

    <select id="findPage" resultType="Resource">
        select
        <include refid="resourceColumns"/>
        from SYS_RESOURCE r
        order by WEIGHT ASC
    </select>

    <insert id="insert" useGeneratedKeys="true" keyProperty="id" parameterType="Resource">
		insert into SYS_RESOURCE (
            NAME,"IDENTITY",URL,PARENT_ID,PARENT_IDS,ICON,
            WEIGHT,IS_SHOW
		) values (
		  #{name},#{identity},#{url},#{parentId},#{parentIds},#{icon},
		  #{weight},#{isShow}
		)
	</insert>

    <update id="update" parameterType="Resource">
		update SYS_RESOURCE set
		  NAME=#{name},
		  "IDENTITY"=#{identity},
		  URL=#{url},
		  PARENT_ID=#{parentId},
		  PARENT_IDS=#{parentIds},
	      ICON=#{icon},
		  WEIGHT=#{weight},
		  IS_SHOW=#{isShow}
		  where id = #{id}
	</update>

</mapper>